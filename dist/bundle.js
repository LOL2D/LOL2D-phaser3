!function(){"use strict";function t(t){this.scenes=[],this.scene=null,this.wire=function(){const e=["mouseClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","doubleClicked","mouseWheel","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"];var n=this,s=null!=t?t:window;s.draw=function(){n.draw()};for(var i=0;i<e.length;i++){let t=e[i];s[t]=function(e){n.handleEvent(t,e)}}return n},this.addScene=function(e){var n=new e(t);this.p=t,n.sceneManager=this;var s={fnScene:e,oScene:n,hasSetup:"setup"in n,hasEnter:"enter"in n,hasDraw:"draw"in n,hasExit:"exit"in n,setupExecuted:!1,enterExecuted:!1};return this.scenes.push(s),s},this.findSceneIndex=function(t){for(var e=0;e<this.scenes.length;e++){if(this.scenes[e].fnScene==t)return e}return-1},this.findScene=function(t){var e=this.findSceneIndex(t);return e>=0?this.scenes[e]:null},this.isCurrent=function(t){return null!=this.scene&&this.scene.fnScene==t},this.showScene=function(t,e){var n=this.findScene(t);null==n&&(n=this.addScene(t)),n.enterExecuted=!1,this.scene&&this.scene.hasExit&&this.scene.oScene.exit(),this.scene=n,n.oScene.sceneArgs=e},this.showNextScene=function(t){if(0!=this.scenes.length){var e=0;if(null!=this.scene){var n=this.findSceneIndex(this.scene.fnScene);e=n<this.scenes.length-1?n+1:0}var s=this.scenes[e];this.showScene(s.fnScene,t)}},this.draw=function(){var t=this.scene;null!=t&&(t.hasSetup&&!t.setupExecuted&&(t.oScene.setup(),t.setupExecuted=!0),t.hasEnter&&!t.enterExecuted&&(t.oScene.enter(),t.enterExecuted=!0),t.hasDraw&&t.oScene.draw())},this.handleEvent=function(t,e){if(null!=this.scene&&null!=this.scene.oScene){var n=this.scene.oScene[t];n&&n.call(this.scene.oScene,e)}},this.mousePressed=function(){this.handleEvent("mousePressed")},this.keyPressed=function(){this.handleEvent("keyPressed")}}const e={utils:{hide:t=>t.style.display="none",show:t=>t.style.display="initial"},elements:{loadingDiv:(n="#loading",document.querySelector(n))}};var n;const s={Controller:{vi:"Hỗ trợ",image:"",link:"https://leagueoflegends.fandom.com/wiki/Champion_classes/Controller",description:"",subs:{Enchanter:{vi:"Hỗ trợ - Hôi phục"},Catcher:{vi:"Hỗ trợ - Khống chế"}}},Fighter:{vi:"Đấu sĩ",image:"",link:"https://leagueoflegends.fandom.com/wiki/Champion_classes/Fighter",description:"Đấu sĩ là một nhóm tướng đa dạng, mạnh cả trong việc gây sát thương và nhận sát thương. Chúng thường mang trên mình khả năng gây sát thương theo thời gian cao cũng như những nội tại phòng thủ mạnh mẽ, nên Đấu sĩ thường tìm kiếm mục tiêu cho riêng mình. Nhưng do tầm đánh ngắn, chúng thường gặp nguy hiểm nếu không áp sát được bởi khả năng khống chế của đối phương.",subs:{Juggernaut:{vi:"Đấu sĩ - Khổng lồ tàn phá"},Diver:{vi:"Đấu sĩ - Áp sát nhanh"}}},Mage:{vi:"Pháp Sư",image:"link/to/image",link:"https://leagueoflegends.fandom.com/wiki/Champion_classes/Mage",description:"Pháp sư hầu hết là những tướng tầm xa chủ yếu sử dụng những chiêu thức mạnh mẽ nhiều hơn các đòn đánh thường. Những pháp sư thường có bộ kĩ năng kết hợp tầm xa, diện rộng hoặc cơ động. Một pháp sư giỏi sẽ có sức ảnh hưởng cực lớn với bất cứ đội hình nào nhờ vào bộ kĩ năng đa dạng và lối chơi linh hoạt của mình.",subs:{Burst:{vi:"Pháp sư - Dồn sát thương"},Battlemage:{vi:"Pháp sư - Tầm trung"},Artillery:{vi:"Pháp sư - Tầm xa"}}},Marksman:{vi:"Xạ thủ",image:"link/to/image",link:"https://leagueoflegends.fandom.com/wiki/Champion_classes/Marksman",description:"Xạ thủ là các tướng đánh xa hi sinh khả năng phòng ngự và độ đa dụng để tập trung vào việc gây ra nguồn sát thương lớn và liên tiếp vào các mục tiêu đơn lẻ, đặc biệt dựa chủ yếu vào các đòn đánh thường để gây sát thương cho đối thủ hơn là việc sử dụng các kỷ năng. Các xạ thủ có khả năng gây ra lượng lớn sát thương và là nguồn sát thương chủ yếu của mỗi đội hình về giai đoạn cuối trận đấu"},Slayer:{vi:"Sát thủ",image:"link/to/image",link:"https://leagueoflegends.fandom.com/wiki/Slayer",description:"Sát thủ là những vị tướng khá cơ động, có nhiệm vụ dồn sát thương vào một mục tiêu cực mạnh. Chúng thường thiếu khả năng phòng thủ, nhưng ngược lại có khả năng áp sát từ xa, nhanh chóng hạ gục mục tiêu quan trọng và cũng rút về một cách nhanh chóng. Đây là lối chơi rủi ro cao, phần thưởng cao. Sát thủ là những kẻ cơ hội, tấn công khi kẻ địch yếu và đơn độc.",subs:{Assassin:{vi:"Sát thủ - Kết liễu"},Skirmisher:{vi:"Sát thủ - Mở giao tranh"}}},Tank:{vi:"Đỡ đòn",image:"link/to/image",description:"Chưa có dữ liệu",subs:{Vanguard:{vi:"Đỡ đòn - Mở giao tranh"},Warden:{vi:"Đỡ đòn - Hỗ trợ"}}},Specialist:{vi:"Đặc biệt",image:"link/to/image",link:"https://leagueoflegends.fandom.com/wiki/Champion_classes/Specialist",description:"Chưa có dữ liệu"}},i={assets:{},p5:p5,players:[],ability_objects:[],camera:null},o="Champion",r="Mana",a="AP",h="Ability";class c extends class{constructor({owner:t,stats:e}){this.type=h,this.owner=t,this.stats=this.getStats(e)}getStats(t){return{...t}}}{constructor(t={}){const{stats:e=c.default.stats,owner:n}=t;super({owner:n,stats:e})}fire(){this.isAvailable()&&alert("Ahri Q fired")}isAvailable(){return this.owner.stats.mana>=this.stats.const[this.owner.getLevel()]}}c.default={info:{name:"Lửa Hồ Ly",description:["Ahri phóng ra rồi thu hồi quả cầu ma thuật của cô, gây sát thương phép trên đường bay ra và sát thương chuẩn trên đường thu về. Sau khi dùng phép trúng vài lần, quả cầu trúng địch kế tiếp sẽ hồi máu cho Ahri.","Gây 40/65/90/115/140 (+) sát thương phép trên đường đi và 40/65/90/115/140 (+) sát thương chuẩn trên đường về.","Các kỹ năng của Ahri tích cộng dồn Hút Hồn khi trúng kẻ địch (tối đa mỗi lần tung chiêu). Ở cộng dồn, Quả Cầu Ma Thuật kế tiếp của Ahri hồi cho cô (+) máu mỗi khi trúng 1 kẻ địch."]},stats:{range:880,width:180,speed:1700,const:[65,70,75,80,85],constType:r,coolDown:7,damage:[40,65,90,115,140],additionalDamage:35,additionalDamageType:a}};class p extends class{constructor({skin:t,stats:e,abilities:n}){this.type=o,this.skin=this.getSkin(t),this.stats=this.getStats(e),this.abilities=this.getAbilities(n)}getSkin(t){return{...t,avatar:i.assets[t.avatar]}}getStats(t){return{...t}}getAbilities(t){const e={};for(let n in t){let s=t[n];e[n]="function"==typeof s?new s({owner:this}):s}return e}}{constructor(t={}){const{skin:e=p.default.skins.default,stats:n=p.default.stats,abilities:s=p.default.abilities}=t;super({skin:e,stats:n,abilities:s})}Q(){this.abilities.q.fire()}getLevel(){return 1}getDefault(){return p.default}show(){i.p5.image(this.skin.avatar,i.p5.width/2,i.p5.height/2)}}p.default={info:{name:"Ahri",nameVietNamese:"Hồ Ly Chín Đuôi",classes:s.Mage,subClasses:[s.Mage.subs.Burst],homeTown:"Ionia",link:"https://leagueoflegends.fandom.com/wiki/Ahri",price:4800},skins:{default:{name:"Mặc định",background:"path/to/background",avatar:"/assets/images/characters/ahri_square.png"},1:{}},score:{defense:4,attack:3,magic:8,difficulty:5},stats:{health:618,_health:92,mana:443,_mana:25,attackDamage:56.04,_attackDamage:3,magicalDamage:0,_magicalDamage:0,attackSpeed:.668,_attackSpeed:2,attackRange:550,moveSpeed:330,healthRegen:7.1,_healthRegen:.6,manaRegen:8.8,_manaRegen:.8,armor:24.38,_armor:3.5,magicalResist:30.5,_magicalResist:.5},abilities:{passive:null,q:c,w:null,e:null,r:null}};var l={Ahri:p},u={};
/** @preserve SAT.js - Version 0.8.0 - Copyright 2012 - 2018 - Jim Riecken <jimr@jimr.ca> - released under the MIT License. https://github.com/jriecken/sat-js */function g(t,e){this.x=t||0,this.y=e||0}function f(t,e){this.pos=t||new g,this.r=e||0,this.offset=new g}function d(t,e){this.pos=t||new g,this.angle=0,this.offset=new g,this.setPoints(e||[])}function y(t,e,n){this.pos=t||new g,this.w=e||0,this.h=n||0}function v(){this.a=null,this.b=null,this.overlapN=new g,this.overlapV=new g,this.clear()}u.Vector=g,u.V=g,g.prototype.copy=g.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},g.prototype.clone=g.prototype.clone=function(){return new g(this.x,this.y)},g.prototype.perp=g.prototype.perp=function(){var t=this.x;return this.x=this.y,this.y=-t,this},g.prototype.rotate=g.prototype.rotate=function(t){var e=this.x,n=this.y;return this.x=e*Math.cos(t)-n*Math.sin(t),this.y=e*Math.sin(t)+n*Math.cos(t),this},g.prototype.reverse=g.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},g.prototype.normalize=g.prototype.normalize=function(){var t=this.len();return t>0&&(this.x=this.x/t,this.y=this.y/t),this},g.prototype.add=g.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},g.prototype.sub=g.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},g.prototype.scale=g.prototype.scale=function(t,e){return this.x*=t,this.y*=void 0!==e?e:t,this},g.prototype.project=g.prototype.project=function(t){var e=this.dot(t)/t.len2();return this.x=e*t.x,this.y=e*t.y,this},g.prototype.projectN=g.prototype.projectN=function(t){var e=this.dot(t);return this.x=e*t.x,this.y=e*t.y,this},g.prototype.reflect=g.prototype.reflect=function(t){var e=this.x,n=this.y;return this.project(t).scale(2),this.x-=e,this.y-=n,this},g.prototype.reflectN=g.prototype.reflectN=function(t){var e=this.x,n=this.y;return this.projectN(t).scale(2),this.x-=e,this.y-=n,this},g.prototype.dot=g.prototype.dot=function(t){return this.x*t.x+this.y*t.y},g.prototype.len2=g.prototype.len2=function(){return this.dot(this)},g.prototype.len=g.prototype.len=function(){return Math.sqrt(this.len2())},u.Circle=f,f.prototype.getAABB=f.prototype.getAABB=function(){var t=this.r;return new y(this.pos.clone().add(this.offset).sub(new g(t,t)),2*t,2*t).toPolygon()},f.prototype.setOffset=f.prototype.setOffset=function(t){return this.offset=t,this},u.Polygon=d,d.prototype.setPoints=d.prototype.setPoints=function(t){if(!this.points||this.points.length!==t.length){var e,n=this.calcPoints=[],s=this.edges=[],i=this.normals=[];for(e=0;e<t.length;e++){var o=t[e],r=e<t.length-1?t[e+1]:t[0];o===r||o.x!==r.x||o.y!==r.y?(n.push(new g),s.push(new g),i.push(new g)):(t.splice(e,1),e-=1)}}return this.points=t,this._recalc(),this},d.prototype.setAngle=d.prototype.setAngle=function(t){return this.angle=t,this._recalc(),this},d.prototype.setOffset=d.prototype.setOffset=function(t){return this.offset=t,this._recalc(),this},d.prototype.rotate=d.prototype.rotate=function(t){for(var e=this.points,n=e.length,s=0;s<n;s++)e[s].rotate(t);return this._recalc(),this},d.prototype.translate=d.prototype.translate=function(t,e){for(var n=this.points,s=n.length,i=0;i<s;i++)n[i].x+=t,n[i].y+=e;return this._recalc(),this},d.prototype._recalc=function(){var t,e=this.calcPoints,n=this.edges,s=this.normals,i=this.points,o=this.offset,r=this.angle,a=i.length;for(t=0;t<a;t++){var h=e[t].copy(i[t]);h.x+=o.x,h.y+=o.y,0!==r&&h.rotate(r)}for(t=0;t<a;t++){var c=e[t],p=t<a-1?e[t+1]:e[0],l=n[t].copy(p).sub(c);s[t].copy(l).perp().normalize()}return this},d.prototype.getAABB=d.prototype.getAABB=function(){for(var t=this.calcPoints,e=t.length,n=t[0].x,s=t[0].y,i=t[0].x,o=t[0].y,r=1;r<e;r++){var a=t[r];a.x<n?n=a.x:a.x>i&&(i=a.x),a.y<s?s=a.y:a.y>o&&(o=a.y)}return new y(this.pos.clone().add(new g(n,s)),i-n,o-s).toPolygon()},d.prototype.getCentroid=d.prototype.getCentroid=function(){for(var t=this.calcPoints,e=t.length,n=0,s=0,i=0,o=0;o<e;o++){var r=t[o],a=o===e-1?t[0]:t[o+1],h=r.x*a.y-a.x*r.y;n+=(r.x+a.x)*h,s+=(r.y+a.y)*h,i+=h}return new g(n/=i*=3,s/=i)},u.Box=y,y.prototype.toPolygon=y.prototype.toPolygon=function(){var t=this.pos,e=this.w,n=this.h;return new d(new g(t.x,t.y),[new g,new g(e,0),new g(e,n),new g(0,n)])},u.Response=v,v.prototype.clear=v.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var m=[],w=0;w<10;w++)m.push(new g);var k=[];for(w=0;w<5;w++)k.push([]);var b=new v,x=new y(new g,1e-6,1e-6).toPolygon();function S(t,e,n){for(var s=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=t.length,r=0;r<o;r++){var a=t[r].dot(e);a<s&&(s=a),a>i&&(i=a)}n[0]=s,n[1]=i}function A(t,e,n,s,i,o){var r=k.pop(),a=k.pop(),h=m.pop().copy(e).sub(t),c=h.dot(i);if(S(n,i,r),S(s,i,a),a[0]+=c,a[1]+=c,r[0]>a[1]||a[0]>r[1])return m.push(h),k.push(r),k.push(a),!0;if(o){var p,l,u=0;if(r[0]<a[0])if(o.aInB=!1,r[1]<a[1])u=r[1]-a[0],o.bInA=!1;else u=(p=r[1]-a[0])<(l=a[1]-r[0])?p:-l;else if(o.bInA=!1,r[1]>a[1])u=r[0]-a[1],o.aInB=!1;else u=(p=r[1]-a[0])<(l=a[1]-r[0])?p:-l;var g=Math.abs(u);g<o.overlap&&(o.overlap=g,o.overlapN.copy(i),u<0&&o.overlapN.reverse())}return m.push(h),k.push(r),k.push(a),!1}function P(t,e){var n=t.len2(),s=e.dot(t);return s<0?C:s>n?_:M}u.isSeparatingAxis=A;var C=-1,M=0,_=1;function E(t,e,n){for(var s=m.pop().copy(e.pos).add(e.offset).sub(t.pos),i=e.r,o=i*i,r=t.calcPoints,a=r.length,h=m.pop(),c=m.pop(),p=0;p<a;p++){var l=p===a-1?0:p+1,u=0===p?a-1:p-1,g=0,f=null;h.copy(t.edges[p]),c.copy(s).sub(r[p]),n&&c.len2()>o&&(n.aInB=!1);var d=P(h,c);if(d===C){h.copy(t.edges[u]);var y=m.pop().copy(s).sub(r[u]);if((d=P(h,y))===_){if((w=c.len())>i)return m.push(s),m.push(h),m.push(c),m.push(y),!1;n&&(n.bInA=!1,f=c.normalize(),g=i-w)}m.push(y)}else if(d===_){if(h.copy(t.edges[l]),c.copy(s).sub(r[l]),(d=P(h,c))===C){if((w=c.len())>i)return m.push(s),m.push(h),m.push(c),!1;n&&(n.bInA=!1,f=c.normalize(),g=i-w)}}else{var v=h.perp().normalize(),w=c.dot(v),k=Math.abs(w);if(w>0&&k>i)return m.push(s),m.push(v),m.push(c),!1;n&&(f=v,g=i-w,(w>=0||g<2*i)&&(n.bInA=!1))}f&&n&&Math.abs(g)<Math.abs(n.overlap)&&(n.overlap=g,n.overlapN.copy(f))}return n&&(n.a=t,n.b=e,n.overlapV.copy(n.overlapN).scale(n.overlap)),m.push(s),m.push(h),m.push(c),!0}function I(t,e,n){for(var s=t.calcPoints,i=s.length,o=e.calcPoints,r=o.length,a=0;a<i;a++)if(A(t.pos,e.pos,s,o,t.normals[a],n))return!1;for(a=0;a<r;a++)if(A(t.pos,e.pos,s,o,e.normals[a],n))return!1;return n&&(n.a=t,n.b=e,n.overlapV.copy(n.overlapN).scale(n.overlap)),!0}u.pointInCircle=function(t,e){var n=m.pop().copy(t).sub(e.pos).sub(e.offset),s=e.r*e.r,i=n.len2();return m.push(n),i<=s},u.pointInPolygon=function(t,e){x.pos.copy(t),b.clear();var n=I(x,e,b);return n&&(n=b.aInB),n},u.testCircleCircle=function(t,e,n){var s=m.pop().copy(e.pos).add(e.offset).sub(t.pos).sub(t.offset),i=t.r+e.r,o=i*i,r=s.len2();if(r>o)return m.push(s),!1;if(n){var a=Math.sqrt(r);n.a=t,n.b=e,n.overlap=i-a,n.overlapN.copy(s.normalize()),n.overlapV.copy(s).scale(n.overlap),n.aInB=t.r<=e.r&&a<=e.r-t.r,n.bInA=e.r<=t.r&&a<=t.r-e.r}return m.push(s),!0},u.testPolygonCircle=E,u.testCirclePolygon=function(t,e,n){var s=E(e,t,n);if(s&&n){var i=n.a,o=n.aInB;n.overlapN.reverse(),n.overlapV.reverse(),n.a=n.b,n.b=i,n.aInB=n.bInA,n.bInA=o}return s},u.testPolygonPolygon=I;const N=function(){let t,e;this.enter=function(){console.log(l),t=new l.Ahri,e=new l.Ahri;new u.Vector;console.log(u)},this.draw=function(){i.p5.background(0),t.show(i.p5),e.show(i.p5)},this.keyPressed=function(){t.Q()}},B=["/assets/images/characters/yasuo.png","/assets/images/characters/lux.png","/assets/images/characters/jinx.png","/assets/images/characters/blitzcrank.png","/assets/images/characters/ahri_square.png","/assets/images/objects/bantay.png","/assets/images/objects/locXoay.png","/assets/images/objects/rocket2.png","/assets/images/objects/tree.png","/assets/images/objects/troiAnhSang.png"],D=function(){const t=B.length;let n;this.enter=function(){e.utils.show(e.elements.loadingDiv),n=0;const s=()=>{n===t&&setTimeout(()=>{this.sceneManager.showScene(N)},1500)};for(let t of B){const e=i.p5.loadImage(t,t=>{n++,s()},t=>{n++,s()},t=>{console.log(t)});i.assets[t]=e}i.p5.textAlign(i.p5.CENTER,i.p5.CENTER)},this.draw=function(){i.p5.background(30),i.p5.fill(255),i.p5.noStroke(),i.p5.text(~~(n/t*100)+"%",i.p5.width/2,i.p5.height/2)},this.exit=function(){e.utils.hide(e.elements.loadingDiv)}},j=function(e){e.setup=function(){i.p5=e,e.createCanvas(window.innerWidth,window.innerHeight);const n=new t(i.p5);n.wire(),n.showScene(D)},e.windowResized=function(){e.resizeCanvas(window.innerWidth,window.innerHeight,!0)}};window.onload=function(){const{p5:t}=window;t.disableFriendlyErrors=!0,new t(j)}}();
